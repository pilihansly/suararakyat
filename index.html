<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SuaraRakyat</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f4f4f4;
        }
        .container {
            max-width: 800px;
            margin: 50px auto;
            background: #fff;
            padding: 20px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }

        @media (max-width: 600px) {
            .container {
                margin: 0;
                padding: 20px;
            }
        }

        .profiles-container {
            overflow: hidden; /* Menghilangkan overflow */
            width: 100%; /* Lebar penuh */
            position: relative; /* Menggunakan posisi relatif */
        }

        .profiles-wrapper {
            display: flex; /* Flexbox untuk tata letak */
            animation: scroll 10s linear infinite; /* Animasi bergerak */
        }

        .profiles {
            display: flex; /* Flexbox untuk tata letak */
            gap: 10px; /* Jarak antara profil */
            flex-wrap: nowrap; /* Tetap mempertahankan satu baris */
            padding-right: 10px; /* Jarak akhir di kanan */
        }

        .profile {
            flex: 0 0 auto; /* Fleksibilitas tetap */
            text-align: center; /* Pusatkan teks */
            width: 150px; /* Lebar profil */
            margin-right: 10px; /* Jarak antara profil */
        }

        @keyframes scroll {
            0% {
                transform: translateX(0); /* Mulai dari posisi awal */
            }
            50% {
                transform: translateX(-50%); /* Pindah ke kiri sejauh setengah dari panjang seluruh profil */
            }
            100% {
                transform: translateX(-100%); /* Pindah ke kiri sejauh panjang seluruh profil */
            }
        }

        .profile img {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            margin-bottom: 10px;
        }
        .profile h3 {
            margin: 0;
            font-size: 1em;
        }
        .profile p {
            margin: 5px 0;
            font-size: 0.8em;
        }
        @media (max-width: 600px) {
            .profile {
                width: calc(12% - 10px); /* 2 kolom, setiap profil 50% lebar layar dengan jarak 10px */
                margin-bottom: 10px; /* Jarak antar baris */
            }

            @keyframes scroll {
                0% {
                    transform: translateX(0); /* Mulai dari posisi awal */
                }
                25% {
                    transform: translateX(-25%); /* Pindah ke kiri sejauh setengah dari panjang seluruh profil */
                }
                50% {
                    transform: translateX(-50%); /* Pindah ke kiri sejauh setengah dari panjang seluruh profil */
                }
                75% {
                    transform: translateX(-75%); /* Pindah ke kiri sejauh setengah dari panjang seluruh profil */
                }
                100% {
                    transform: translateX(-100%); /* Pindah ke kiri sejauh panjang seluruh profil */
                }
            }
        }
        h1, h2 {
            text-align: center;
        }
        .form-group {
            margin-bottom: 15px;
        }
        .form-group label {
            display: block;
            margin-bottom: 5px;
        }
        .form-group select,
        .form-group input[type="text"],
        .form-group input[type="number"],
        .form-group input[type="radio"],
        .form-group textarea {
            width: 100%;
            padding: 8px;
            box-sizing: border-box;
        }
        .form-group input[type="radio"] {
            width: auto;
        }
        .form-group .radio-group {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }
        .form-group .radio-group label {
            display: inline-block;
        }
        .submit-btn {
            display: block;
            width: 100%;
            padding: 10px;
            background: #28a745;
            color: white;
            border: none;
            cursor: pointer;
        }
        .submit-btn:hover {
            background: #218838;
        }
        .hidden {
            display: none;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>SuaraRakyat</h1>

        <h2 style="color: red;">Masa Depan Selayar, Anda Yang Tentukan!</h2>
        <div class="profiles-container">
            <div class="profiles-wrapper">
            <div class="profiles">
                <div class="profile">
                    <img src="<?= base_url() ?>assets/surveipemilu/img/aa.jpg" alt="Calon 1">
                    <h3>Ady Ansar</h3>
                    <p>0%</p>
                </div>
                <div class="profile">
                    <img src="<?= base_url() ?>assets/surveipemilu/img/na.jpeg" alt="Calon 2">
                    <h3>Natsir Ali</h3>
                    <p>0%</p>
                </div>
                <div class="profile">
                    <img src="<?= base_url() ?>assets/surveipemilu/img/dm.jpg" alt="Calon 3">
                    <h3>Dg. Marowa</h3>
                    <p>0%</p>
                </div>
                <div class="profile">
                    <img src="<?= base_url() ?>assets/surveipemilu/img/sa.jpg" alt="Calon 3">
                    <h3>Saiful Arif</h3>
                    <p>0%</p>
                </div>
                <div class="profile">
                    <img src="<?= base_url() ?>assets/surveipemilu/img/as.jpeg" alt="Calon 3">
                    <h3>Aji Sumarno</h3>
                    <p>0%</p>
                </div>

                <div class="profile">
                    <img src="<?= base_url() ?>assets/surveipemilu/img/ar.png" alt="Calon 3">
                    <h3>Abdul Rahman</h3>
                    <p>0%</p>
                </div>

                <div class="profile">
                    <img src="<?= base_url() ?>assets/surveipemilu/img/aa.jpg" alt="Calon 1">
                    <h3>Ady Ansar</h3>
                    <p>0%</p>
                </div>
                <div class="profile">
                    <img src="<?= base_url() ?>assets/surveipemilu/img/na.jpeg" alt="Calon 2">
                    <h3>Natsir Ali</h3>
                    <p>0%</p>
                </div>
                <div class="profile">
                    <img src="<?= base_url() ?>assets/surveipemilu/img/dm.jpg" alt="Calon 3">
                    <h3>Dg. Marowa</h3>
                    <p>0%</p>
                </div>
                <div class="profile">
                    <img src="<?= base_url() ?>assets/surveipemilu/img/sa.jpg" alt="Calon 3">
                    <h3>Saiful Arif</h3>
                    <p>0%</p>
                </div>
                <div class="profile">
                    <img src="<?= base_url() ?>assets/surveipemilu/img/as.jpeg" alt="Calon 3">
                    <h3>Aji Sumarno</h3>
                    <p>0%</p>
                </div>
                <div class="profile">
                    <img src="<?= base_url() ?>assets/surveipemilu/img/ar.png" alt="Calon 3">
                    <h3>Abdul Rahman</h3>
                    <p>0%</p>
                </div>
            </div>
            </div>
        </div>
        <p>Silahkan jawab pertanyaan berikut!</p>
        <form action="<?= base_url() ?>pemilu/simpan" method="post" class="form-kuis" id="form-kuis">
            <div class="form-group">
                <label for="kecamatan">1. Kecamatan:</label>

                <select required id="kecamatan" name="kecamatan" onchange="populateDesa()">
                    <option value="">Pilih Kecamatan</option>
                    <option value="Bontoharu">Bontoharu</option>
                    <option value="Bontomatene">Bontomatene</option>
                    <option value="Pasimasunggu">Pasimasunggu</option>
                    <option value="Pasimarannu">Pasimarannu</option>
                    <option value="Pasimasunggu Timur">Pasimasunggu Timur</option>
                    <option value="Pasimasunggu Utara">Pasimasunggu Utara</option>
                    <option value="Pasimasunggu Selatan">Pasimasunggu Selatan</option>
                    <option value="Pasimarannu Timur">Pasimarannu Timur</option>
                    <option value="Pasimarannu Selatan">Pasimarannu Selatan</option>
                    <option value="Pasimarannu Utara">Pasimarannu Utara</option>
                </select>
            </div>
            <div class="form-group">
                <label for="desa">2. Desa:</label>
                <select required id="desa" name="desa">
                    <option value="">Pilih Desa</option>
                </select>
            </div>
            <div class="form-group">
                <label for="usia">3. Usia Anda:</label>
                <div class="radio-group">
                    <label><input type="radio" name="usia" value="17-24 tahun" required> 17-24 tahun</label>
                    <label><input type="radio" name="usia" value="25-34 tahun"> 25-34 tahun</label>
                    <label><input type="radio" name="usia" value="35-44 tahun"> 35-44 tahun</label>
                    <label><input type="radio" name="usia" value="45-54 tahun"> 45-54 tahun</label>
                    <label><input type="radio" name="usia" value="55-64 tahun"> 55-64 tahun</label>
                    <label><input type="radio" name="usia" value="65 tahun ke atas"> 65 tahun ke atas</label>
                </div>
            </div>
            <div class="form-group">
                <label for="jenis_kelamin">4. Jenis Kelamin:</label>
                <div class="radio-group">
                    <label><input type="radio" name="jenis_kelamin" value="Laki-laki" required> Laki-laki</label>
                    <label><input type="radio" name="jenis_kelamin" value="Perempuan"> Perempuan</label>
                </div>
            </div>
            <div class="form-group">
                <label for="pekerjaan">5. Pekerjaan:</label>
                <select id="pekerjaan" name="pekerjaan" required>
                    <option value="Petani">Petani</option>
                    <option value="Nelayan">Nelayan</option>
                    <option value="Pedagang">Pedagang</option>
                    <option value="Buruh">Buruh</option>
                    <option value="Pegawai negeri sipil">Pegawai negeri sipil</option>
                    <option value="Karyawan swasta">Karyawan swasta</option>
                    <option value="Pengusaha">Pengusaha</option>
                    <option value="Profesi lain">Profesi lain (sebutkan)</option>
                </select>
                <input type="text" maxlength="20" id="pekerjaan_lain" class="hidden" style="margin-top: 8px;" name="pekerjaan_lain" placeholder="Sebutkan profesi lain jika ada">
            </div>
            <div class="form-group">
                <label for="pendidikan">6. Tingkat Pendidikan:</label>
                <div class="radio-group">
                    <label><input type="radio" name="pendidikan" value="Tidak sekolah" required> Tidak sekolah</label>
                    <label><input type="radio" name="pendidikan" value="SD/MI"> SD/MI</label>
                    <label><input type="radio" name="pendidikan" value="SMP/MTs"> SMP/MTs</label>
                    <label><input type="radio" name="pendidikan" value="SMA/MA/SMK"> SMA/MA/SMK</label>
                    <label><input type="radio" name="pendidikan" value="Diploma"> Diploma</label>
                    <label><input type="radio" name="pendidikan" value="Sarjana"> Sarjana</label>
                    <label><input type="radio" name="pendidikan" value="Pascasarjana"> Pascasarjana</label>
                </div>
            </div>
            <div class="form-group">
                <label>7. Posisi anda dalam keluarga:</label>
                <div class="radio-group">
                    <label><input type="radio" name="posisi_keluarga" value="Ayah" required> Ayah</label>
                    <label><input type="radio" name="posisi_keluarga" value="Ibu"> Ibu</label>
                    <label><input type="radio" name="posisi_keluarga" value="Anak"> Anak</label>
                    <label><input type="radio" name="posisi_keluarga" value="Lainnya"> Lainnya</label>
                </div>
            </div>
            <div class="form-group">
                <label>8. Jumlah Anggota keluarga anda dalam satu rumah:</label>
                <div class="radio-group">
                    <label><input type="radio" name="jumlah_anggota_keluarga" value="Sendiri" required> Sendiri</label>
                    <label><input type="radio" name="jumlah_anggota_keluarga" value="2 Orang"> 2 Orang</label>
                    <label><input type="radio" name="jumlah_anggota_keluarga" value="3 Orang"> 3 Orang</label>
                    <label><input type="radio" name="jumlah_anggota_keluarga" value="4 Orang"> 4 Orang</label>
                    <label><input type="radio" name="jumlah_anggota_keluarga" value="5 Orang"> 5 Orang</label>
                    <label><input type="radio" name="jumlah_anggota_keluarga" value="Lebih dari 5 orang"> Lebih dari 5 orang</label>
                </div>
            </div>
            <div class="form-group">
                <label>9. Rata â€“ Rata Pengeluaran anda setiap Bulannya:</label>
                <div class="radio-group">
                    <label><input type="radio" name="pengeluaran_bulanan" value="Kurang dari Rp 500.000" required> Kurang dari Rp 500.000</label>
                    <label><input type="radio" name="pengeluaran_bulanan" value="Rp 500.000 - Rp 1.000.000"> Rp 500.000 - Rp 1.000.000</label>
                    <label><input type="radio" name="pengeluaran_bulanan" value="Rp 1.000.000 - Rp 2.000.000"> Rp 1.000.000 - Rp 2.000.000</label>
                    <label><input type="radio" name="pengeluaran_bulanan" value="Rp 2.000.000 - Rp 3.000.000"> Rp 2.000.000 - Rp 3.000.000</label>
                    <label><input type="radio" name="pengeluaran_bulanan" value="Rp 3.000.000 - Rp 5.000.000"> Rp 3.000.000 - Rp 5.000.000</label>
                </div>
            </div>
            <div class="form-group">
                <label>10. Jika terjadi pemilihan kepala daerah minggu depan, Siapakah yang layak memimpin?</label>
                <div class="radio-group">
                    <label><input type="radio" name="pemimpin" value="Natsir Ali" required> Natsir Ali</label>
                    <label><input type="radio" name="pemimpin" value="Ady Ansar"> Ady Ansar</label>
                    <label><input type="radio" name="pemimpin" value="Saiful Arif"> Saiful Arif</label>
                    <label><input type="radio" name="pemimpin" value="Abdul Rahman"> Abdul Rahman</label>
                    <label><input type="radio" name="pemimpin" value="Dg. Marowa"> Dg. Marowa</label>
                    <label><input type="radio" name="pemimpin" value="Abdul Rahman"> Abdul Rahman</label>
                    <label><input type="radio" name="pemimpin" value="Pemimpin Lainnya"> Lainnya (Sebutkan)</label>
                    <input type="text" id="pemimpin_lain" maxlength="20" class="hidden" style="margin-top: 8px;" name="pemimpin_lain" placeholder="Sebutkan nama">
                </div>
            </div>
            <div class="form-group">
                <label>11. Apakah anda setuju, pemberian uang dan/atau sembako memberi pengaruh terhadap perubahan selera orang dalam memilih pasangan calon bupati?</label>
                <div class="radio-group">
                    <label><input type="radio" name="pengaruh_uang" value="Ya" required> Ya</label>
                    <label><input type="radio" name="pengaruh_uang" value="Tidak"> Tidak</label>
                </div>
            </div>

            <div class="form-group hidden" id="pertanyaan-lanjut">
                <label>12. Menurut anda, maukah masyarakat mengganti pilihannya jika diberi sumbangan berupa uang dengan nilai sebagai berikut:</label>
                <div class="form-group">
                    <label>Jika diberi Rp. 100.000?</label>
                    <div class="radio-group">
                        <label><input type="radio" name="ganti_pilihan_100" value="Ya" > Ya</label>
                        <label><input type="radio" name="ganti_pilihan_100" value="Tidak"> Tidak</label>
                    </div>
                </div>
                <div class="form-group hidden" id="pertanyaan-300">
                    <label>Jika diberi Rp. 300.000?</label>
                    <div class="radio-group">
                        <label><input type="radio" name="ganti_pilihan_300" value="Ya" > Ya</label>
                        <label><input type="radio" name="ganti_pilihan_300" value="Tidak"> Tidak</label>
                    </div>
                </div>
                <div class="form-group hidden" id="pertanyaan-600">
                    <label>Jika diberi Rp. 600.000?</label>
                    <div class="radio-group">
                        <label><input type="radio" name="ganti_pilihan_600" value="Ya" > Ya</label>
                        <label><input type="radio" name="ganti_pilihan_600" value="Tidak"> Tidak</label>
                    </div>
                </div>
                <div class="form-group hidden" id="pertanyaan-1000">
                    <label>Jika diberi Rp. 1.000.000?</label>
                    <div class="radio-group">
                        <label><input type="radio" name="ganti_pilihan_1000" value="Ya" > Ya</label>
                        <label><input type="radio" name="ganti_pilihan_1000" value="Tidak"> Tidak</label>
                    </div>
                </div>
            </div>

            <div class="form-group hidden" id="pertanyaan-nilai-uang">
                <label>13. Berdasarkan informasi yang anda ketahui berapakah nilai uang yang biasa diberikan oleh pasangan calon atau tim sukses untuk bisa mendapatkan suara?</label>
                <div class="radio-group">
                    <label><input type="radio" name="nilai_uang" value="Kurang dari Rp 100.000" > Kurang dari Rp 100.000</label>
                    <label><input type="radio" name="nilai_uang" value="Rp 100.000 - Rp 300.000"> Rp 100.000 - Rp 300.000</label>
                    <label><input type="radio" name="nilai_uang" value="Rp 300.000 - Rp 600.000"> Rp 300.000 - Rp 600.000</label>
                    <label><input type="radio" name="nilai_uang" value="Rp 600.000 - Rp 1.000.000"> Rp 600.000 - Rp 1.000.000</label>
                    <label><input type="radio" name="nilai_uang" value="Lebih dari Rp 1.000.000"> Lebih dari Rp 1.000.000</label>
                </div>
            </div>
            <div class="form-group hidden" id="pertanyaan-frekuensi">
                <label>14. Berdasarkan informasi yang anda ketahui, berapa kali dilakukan pemberian uang atau sembako oleh pasangan calon atau tim sukses sebelum pemilu dilakanakan?</label>
                <div class="radio-group">
                    <label><input type="radio" name="frekuensi_pemberian" value="1 Kali" > 1 Kali</label>
                    <label><input type="radio" name="frekuensi_pemberian" value="2 Kali"> 2 Kali</label>
                    <label><input type="radio" name="frekuensi_pemberian" value="Lebih dari 2 Kali"> Lebih dari 2 Kali</label>
                </div>
            </div>

            <button type="submit" class="submit-btn">Submit</button>
        </form>
    </div>

    <script>
        const sukses = "<?= $sta ?>"
        if (sukses == "1") {
            document.getElementById('form-kuis').reset()
            alert('Terima kasih!')
        }

        document.getElementById('pekerjaan').addEventListener('change', function() {
            var pekerjaanLain = document.getElementById('pekerjaan_lain');
            if (this.value === 'Profesi lain') {
                pekerjaanLain.classList.remove('hidden');
            } else {
                pekerjaanLain.classList.add('hidden');
            }
        });

        document.addEventListener("DOMContentLoaded", function() {
            const pemimpinRadios = document.querySelectorAll('input[name="pemimpin"]');
            const pemimpinLainInput = document.getElementById("pemimpin_lain");

            function togglePemimpinLain() {
                const selectedPemimpin = document.querySelector('input[name="pemimpin"]:checked');
                if (selectedPemimpin && selectedPemimpin.value === "Pemimpin Lainnya") {
                    pemimpinLainInput.classList.remove("hidden");
                } else {
                    pemimpinLainInput.classList.add("hidden");
                    pemimpinLainInput.value = "";  // Clear the input if hidden
                }
            }

            pemimpinRadios.forEach(radio => {
                radio.addEventListener("change", togglePemimpinLain);
            });

            togglePemimpinLain();  // Initial check on page load
        });

        document.addEventListener("DOMContentLoaded", function() {
            const pengaruhUangRadios = document.querySelectorAll('input[name="pengaruh_uang"]');
            const pertanyaanLanjut = document.getElementById("pertanyaan-lanjut");

            function togglePertanyaanLanjut() {
                const pengaruhUang = document.querySelector('input[name="pengaruh_uang"]:checked');
                if (pengaruhUang && pengaruhUang.value === "Ya") {
                    pertanyaanLanjut.classList.remove("hidden");
                } else {
                    pertanyaanLanjut.classList.add("hidden");
                }
            }

            pengaruhUangRadios.forEach(radio => {
                radio.addEventListener("change", togglePertanyaanLanjut);
            });

            togglePertanyaanLanjut();

            const gantiPilihan100 = document.querySelectorAll('input[name="ganti_pilihan_100"]');
            const gantiPilihan300 = document.querySelectorAll('input[name="ganti_pilihan_300"]');
            const gantiPilihan600 = document.querySelectorAll('input[name="ganti_pilihan_600"]');
            const gantiPilihan1000 = document.querySelectorAll('input[name="ganti_pilihan_1000"]');
            
            const pertanyaan300 = document.getElementById("pertanyaan-300");
            const pertanyaan600 = document.getElementById("pertanyaan-600");
            const pertanyaan1000 = document.getElementById("pertanyaan-1000");
            const pertanyaanNilaiUang = document.getElementById("pertanyaan-nilai-uang");
            const pertanyaanFrekuensi = document.getElementById("pertanyaan-frekuensi");

            function toggleNextQuestion(currentRadio, nextQuestion) {
                currentRadio.forEach(radio => {
                    radio.addEventListener("change", function() {
                        if (radio.value === "Tidak") {
                            nextQuestion.classList.remove("hidden");
                        } else {
                            nextQuestion.classList.add("hidden");
                            pertanyaanNilaiUang.classList.remove("hidden");
                            pertanyaanFrekuensi.classList.remove("hidden");
                        }
                    });
                });
            }

            toggleNextQuestion(gantiPilihan100, pertanyaan300);
            toggleNextQuestion(gantiPilihan300, pertanyaan600);
            toggleNextQuestion(gantiPilihan600, pertanyaan1000);
            toggleNextQuestion(gantiPilihan1000, pertanyaanNilaiUang);

        });

        function populateDesa() {
            var kecamatan = document.getElementById("kecamatan");
            var desa = document.getElementById("desa");

            // Clear existing options
            desa.innerHTML = "";

            // Get selected kecamatan
            var selectedKecamatan = kecamatan.value;

            // Populate desa options based on selected kecamatan
            switch (selectedKecamatan) {
                case "Bontoharu":
                    desa.options.add(new Option("Benteng"));
                    desa.options.add(new Option("Bontobangun"));
                    desa.options.add(new Option("Bontobulaeng"));
                    break;
                case "Bontomatene":
                    desa.options.add(new Option("Bontomatene Barat"));
                    desa.options.add(new Option("Bontomatene Selatan"));
                    desa.options.add(new Option("Bontomatene Timur"));
                    desa.options.add(new Option("Bontomatene Utara"));
                    break;
                case "Pasimasunggu":
                    desa.options.add(new Option("Laiya"));
                    desa.options.add(new Option("Laiya Timur"));
                    desa.options.add(new Option("Laiya Utara"));
                    break;
                case "Pasimarannu":
                    desa.options.add(new Option("Lamakkarat"));
                    desa.options.add(new Option("Lamakkarat Timur"));
                    desa.options.add(new Option("Lamakkarat Utara"));
                    break;
                case "Pasimasunggu Timur":
                    desa.options.add(new Option("Laikang"));
                    desa.options.add(new Option("Laikang Barat"));
                    desa.options.add(new Option("Laikang Utara"));
                    break;
                case "Pasimasunggu Selatan":
                    desa.options.add(new Option("Baji Mangngai"));
                    desa.options.add(new Option("Baji Mangngai Utara"));
                    break;
                case "Pasimarannu Timur":
                    desa.options.add(new Option("Lantika"));
                    desa.options.add(new Option("Lantika Barat"));
                    desa.options.add(new Option("Lantika Timur"));
                    break;
                case "Pasimarannu Selatan":
                    desa.options.add(new Option("Baji Lengkese"));
                    desa.options.add(new Option("Baji Lengkese Timur"));
                    desa.options.add(new Option("Baji Lengkese Utara"));
                    break;
                case "Pasimarannu Utara":
                    desa.options.add(new Option("Tamalatea"));
                    desa.options.add(new Option("Tamalatea Timur"));
                    break;
                default:
                    desa.options.add(new Option("Pilih Kecamatan terlebih dahulu"));
            }
        }
    </script>
</body>
</html>
